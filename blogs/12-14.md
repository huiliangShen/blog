### 2020-12-14 面试经历

#### 背景介绍

今年十一长假之前其实就一直有想着要不要换工作的打算，自己内心一直想着还没准备好，想等准备好之后再好好尝试，始终没有迈出那一步！但后面想如果始终不迈出这一步，可能永远都换不了，索性先投下一些公司试试水，找找面试的感觉，然后就有了接下来的一系列面试之旅，时间有点久了，自己记得的题可能也不全，所以就还是介绍下印象最深的题。

::: tip

本文主要记载面试的时间段为10月初到11初

:::

#### 10月初到中旬左右面试的公司（外包电面，阿里系）
外包公司的话面试都主要以电话面试为主，不需要现场面试，可能今年疫情的缘故导致。

> 外包面试基本需要`3轮`，`3轮`之后会给个定级，`w3，w4，w5`。。。外包都给这类定级，`w3说是高级开发`，`w4是资深开发`，刚开始以为这些是阿里定的，后来了解到阿里内部只是要求候选人能力到`p5`左右这种级别，并不了解`w序列`的定级。。。w只是外包公司定的，给你`多少工资`也是依据这个，外包公司和阿里会有约定每年可以有那么些优秀的人可以`转正`，但真的是`少数`，`优秀的前百分之几`而已，我选择放弃，哈哈

- 一轮是外包公司的内部面试筛选，看看你有没有做外包的基本能力（一般都会过，看了hr的内部群，貌似好多都放水过的- -）
- 二轮一般就是阿里内部的员工给你安排的阿里一轮电话面试，会和你说是阿里的什么部门（比如：`天猫精灵`，`阿里云`和`COO`等）
- 三轮一般都是该组的leader，基本都是p8这种，也不会和你讨论特别深的技术，会问你理想，个人规划，对前端的开发之类的

#### 面试题-css
1. css盒模型
2. 布局问题。两栏布局怎么实现
3. 水平垂直居中

#### 面试题-js
1. 谈一下原型链
2. js继承的方式
3. 如何实现一个瀑布流
4. 如何实现一个鼠标移动时，在鼠标那个点上实现一个十字
5. 上机题
```js 
/**
 * 1. 下面这段程序会输出什么？为什么？
 */
(function test() {
  setTimeout(function() {
    console.log(1);
  }, 0);
  
  new Promise(function executor(resolve) {
    console.log(2);
    for (let i = 0; i < 10000; i++) {
      i == 9999 && resolve();
    }
    console.log(3);
  }).then(function() {
    console.log(4);
  });
  
  console.log(5);
})();
```
<details style="background: #eee;" close>
    <summary style="height: 50px;line-height: 50px;padding: 0 20px;">答案</summary>
    <div style="padding: 15px 20px;">
        2 3 5 4 1
    </div>
</details>


6. 上机题
```jsx
// 该代码有个bug需要修复，如何修改才能解决这个bug
class App extends React.Component {
  state = { keyword: '' }

  handleChange = event => {
    /**
     * 这是“防抖”函数的简单实现，它会以队列的方式在 250 ms 内调用
     * 表达式并取消所有挂起的队列表达式。以这种方式我们可以在用户停止输
     * 入时延迟 250 ms 来调用表达式。
     */
    clearTimeout(this.timeout);
    this.timeout = setTimeout(() => {
      this.setState({
        keyword: event.target.value
      });
    }, 250);
  }

  render() {
    return (
      <div>
        <input type="text" onChange={this.handleChange} />
        {this.state.keyword ? <p>Search for: {this.state.keyword}</p> : null}
      </div>
    )
  }
}
```
<details style="background: #eee;" close>
    <summary style="height: 50px;line-height: 50px;padding: 0 20px;">答案</summary>
    <div style="padding: 15px 20px;">
        React中的合成事件会把事件对象重用以提高性能，target对象会在setTimeOut之后被置为null
    </div>
</details>

[参考文章(此处以React16版本)](https://reactjs.org/docs/legacy-event-pooling.html)

[参考文章(此处以React17版本，17版本对event pool有所改动)](https://reactjs.org/blog/2020/08/10/react-v17-rc.html#no-event-pooling)

7. 上机题
```jsx
// 下面代码有什么问题？该如何修改？
class App extends React.Component {

  handleClick() {
    alert(this.props.name);
  }

  render() {
    return (
      <div>
        <button onClick={this.handleClick()}>Click Me</button>
      </div>
    );
  }
}
```
<details style="background: #eee;" close>
    <summary style="height: 50px;line-height: 50px;padding: 0 20px;">答案</summary>
    <div style="padding: 15px 20px;">
        <ul>
            <li>
                <p>解决方法1</p>
                <code>handleClick = () => {alert(this.props.name);}</code>
            </li>
            <li>
                <p>解决方法2</p>
                <code>() => this.handleClick()</code>
            </li>
        </ul>
    </div>
</details>

8. 上机题
```js
// flatten([1, [2, [3, [4]], 5], [ 6 ]]);
// => [1, 2, [3, [4]], 5, 6]
// flatten([1, [2, [3, [4]], 5]], true);
// => [1, 2, 3, 4, 5]
function flatten(items, isDeep) {
  // TODO: your code
}
```

<details style="background: #eee;" close>
    <summary style="height: 50px;line-height: 50px;padding: 0 20px;">答案</summary>
    <div style="padding: 15px 20px;">
        <code>
            function flatten(items, isDeep) {
                return items.flat(isDeep ? Infinity : 1)
            }
        </code>
    </div>
</details>


#### 面试题-框架（阿里主要就用react）
1. `setState`同步还是异步的
2. 用过的hooks方法都有哪些，有什么用处
3. `useEffect(() => {}, [])`, 第二个参数的数组依赖为空会怎么样，不填第二个参数会怎么样
4. useState怎么实现的
5. 说下redux的流程
6. class与hooks的区别
7. webpack loader与plugin，有没有自己配过

#### 涂鸦
涂鸦的面试流程是最长的，面了4轮技术面和1轮hr面，这里就不区分具体的面试题了，涂鸦的面试毕竟直接，主要用react，基本都是这个相关的
下面几家 相关的重复面试题就不写了

1. `setState`同步还是异步的，什么时候同步什么时候异步
2. 了解react的fiber吗，能详细讲下？
3. fiber打断之后如何重新重启被打断的任务
4. class与hooks的区别
5. 为什么要用hooks
6. 如何实现一个useState 手写代码
7. xss与csrf
8. 说下js的原型链、闭包
9. react的更新机制与vue的`$nextTick`
10. 事件循环
11. `this`的指向问题
12. `Promise`原理，感觉说了之后面试官自己也拿不准。。。
13. 跨域的解决方法
14. `SCU`问题，hooks中如何优化代码，类似`shouldComponentUpdate`的方式
15. react的生命周期，v15和v16的区别，为什么改了这几个生命周期
16. 聊下JSX
17. 用node做过什么
18. 如何实现一个饿了么里面的小球落袋的效果，用position与transform的区别


#### 兑吧

::: tip
兑吧 主要做的广告推流相关的业务，等于就是个广告推广业务中的中间商，类似爱奇艺之类的平台会找中间商接广告，然后有广告投放方会投放在中间商这里，`流量平台 <-> 兑吧业务 <-> 广告主`
:::

兑吧面试有点荒唐，缺的是做h5,C端相关的，然而我h5相关的不是很熟练。面完之后hr和我说是岗位不合适，无语。兑吧主要以vue为主：

1. vue的生命周期，父子组件的生命周期，solt组件的生命周期
2. nextTick的原理
3. vue实现双向绑定的原理vue2与vue3
4. vue2中的双向绑定有什么缺点，又是如何弥补的
5. vue的父子组件传值
6. 前后端如何鉴权的


#### 玩物得志
第二2轮面试挂了 这里1面让我自己有点无奈，问的问题自己居然详细说说不上来了

1. react 高阶函数写过吗？实现了什么高阶函数
2. 有没有看过一些库的源码
其他问题上面基本有。。

#### 恒生电子
恒生3轮面，恒生的面试不是那么的严格吧，感觉可能是简历的问题- -，技术面试就第一轮问的前端相关的，第二轮就是事业部的leader面试，是个java，也不好问啥，只是说了下自己的成长经历，恒生主要用的vue，第三轮就是hr了

1. 垂直水平居中的问题css
2. vue与react的差别
3. 做过哪些组件
4. 还记得clientWidth，offsetWidth，scorllWidth的区别

#### 其他公司的一些问题

1. 说下redux的reducer
2. reducer为什么是个纯函数
3. 简单请求与复杂请求的差别
4. cookise与session的区别
5. jwt的原理
6. redux的中间件怎么实现的，compose函数
7. 浏览器发出请求到页面渲染的流程
8. 闭包的原理
9. 如何实现一个不可变的常量
10. let与const与var的区别
11. 前端性能优化相关

其余的有点想不起来了

