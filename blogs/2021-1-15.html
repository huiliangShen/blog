<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2021-1-15 å®ç°å°çƒè½è¢‹çš„æ•ˆæœ | èˆ¬è‹¥çš„åšå®¢</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="æœ‰æ—¶å€™è¯»ä¹¦æ˜¯ä¸€ç§å·§å¦™åœ°é¿å¼€æ€è€ƒçš„æ–¹æ³•">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6822ba10.css" as="style"><link rel="preload" href="/blog/assets/js/app.d2a3d452.js" as="script"><link rel="preload" href="/blog/assets/js/2.a40e2ea7.js" as="script"><link rel="preload" href="/blog/assets/js/3.8f423983.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.b1128f18.js"><link rel="prefetch" href="/blog/assets/js/11.b56c119c.js"><link rel="prefetch" href="/blog/assets/js/12.fe35b75f.js"><link rel="prefetch" href="/blog/assets/js/13.f1720490.js"><link rel="prefetch" href="/blog/assets/js/14.606221f3.js"><link rel="prefetch" href="/blog/assets/js/15.56fe9abd.js"><link rel="prefetch" href="/blog/assets/js/16.8371da95.js"><link rel="prefetch" href="/blog/assets/js/17.6971b9e5.js"><link rel="prefetch" href="/blog/assets/js/18.88ebfa84.js"><link rel="prefetch" href="/blog/assets/js/19.75862188.js"><link rel="prefetch" href="/blog/assets/js/20.d20e093c.js"><link rel="prefetch" href="/blog/assets/js/21.8e00bf56.js"><link rel="prefetch" href="/blog/assets/js/22.b18ed5d3.js"><link rel="prefetch" href="/blog/assets/js/23.b14652b3.js"><link rel="prefetch" href="/blog/assets/js/24.069f42ee.js"><link rel="prefetch" href="/blog/assets/js/25.5adf81cb.js"><link rel="prefetch" href="/blog/assets/js/26.9914d2dd.js"><link rel="prefetch" href="/blog/assets/js/27.f24c3597.js"><link rel="prefetch" href="/blog/assets/js/28.7c5066b8.js"><link rel="prefetch" href="/blog/assets/js/29.6e9db02f.js"><link rel="prefetch" href="/blog/assets/js/30.eb287c99.js"><link rel="prefetch" href="/blog/assets/js/31.d9d66cbb.js"><link rel="prefetch" href="/blog/assets/js/32.4aad4273.js"><link rel="prefetch" href="/blog/assets/js/33.ee7b49e8.js"><link rel="prefetch" href="/blog/assets/js/34.ba91855f.js"><link rel="prefetch" href="/blog/assets/js/35.5ce866c5.js"><link rel="prefetch" href="/blog/assets/js/36.c8a0d893.js"><link rel="prefetch" href="/blog/assets/js/37.b97f1d61.js"><link rel="prefetch" href="/blog/assets/js/38.7c9ec00d.js"><link rel="prefetch" href="/blog/assets/js/39.b8f44d6c.js"><link rel="prefetch" href="/blog/assets/js/4.d83bd4ee.js"><link rel="prefetch" href="/blog/assets/js/40.e47d71ac.js"><link rel="prefetch" href="/blog/assets/js/41.43d2d88a.js"><link rel="prefetch" href="/blog/assets/js/42.592dad85.js"><link rel="prefetch" href="/blog/assets/js/5.8ccc13bc.js"><link rel="prefetch" href="/blog/assets/js/6.053414d8.js"><link rel="prefetch" href="/blog/assets/js/7.92db094a.js"><link rel="prefetch" href="/blog/assets/js/8.677f2401.js"><link rel="prefetch" href="/blog/assets/js/9.f73e2845.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6822ba10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">èˆ¬è‹¥çš„åšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/sword/" class="nav-link">
  å†™åœ¨å‰é¢
</a></div><div class="nav-item"><a href="/blog/fd/" class="nav-link">
  å‰ç«¯
</a></div><div class="nav-item"><a href="/blog/mode/" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></div><div class="nav-item"><a href="/blog/person/" class="nav-link">
  ä¸ªäºº
</a></div><div class="nav-item"><a href="/blog/blogs/" class="nav-link router-link-active">
  éšç¬”
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/language/algorithm/" class="nav-link">
  ç®—æ³•ä¸æ•°æ®ç»“æ„
</a></li><li class="dropdown-item"><!----> <a href="/blog/language/network/" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/huiliangShen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/sword/" class="nav-link">
  å†™åœ¨å‰é¢
</a></div><div class="nav-item"><a href="/blog/fd/" class="nav-link">
  å‰ç«¯
</a></div><div class="nav-item"><a href="/blog/mode/" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></div><div class="nav-item"><a href="/blog/person/" class="nav-link">
  ä¸ªäºº
</a></div><div class="nav-item"><a href="/blog/blogs/" class="nav-link router-link-active">
  éšç¬”
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/language/algorithm/" class="nav-link">
  ç®—æ³•ä¸æ•°æ®ç»“æ„
</a></li><li class="dropdown-item"><!----> <a href="/blog/language/network/" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/huiliangShen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>éšç¬”</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blogs/" aria-current="page" class="sidebar-link">2020-5-23 å‰ç«¯æ¨¡å—åŒ–</a></li><li><a href="/blog/blogs/12-14.html" class="sidebar-link">2020-12-14 é¢è¯•ç»å†</a></li><li><a href="/blog/blogs/12-31.html" class="sidebar-link">2020-12-31 åŸç”ŸJSå®ç°æ—¥å†</a></li><li><a href="/blog/blogs/2021-1-15.html" aria-current="page" class="active sidebar-link">2021-1-15 å®ç°å°çƒè½è¢‹çš„æ•ˆæœ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/blogs/2021-1-31.html" class="sidebar-link">2021-1-31  æ•™ä½ ç”¨CSSè§£å†³ä¸€äº›é¢è¯•é—®é¢˜</a></li><li><a href="/blog/blogs/2022-2-10.html" class="sidebar-link">2022-2-10 å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³• By JSï¼šå¼€ç¯‡</a></li><li><a href="/blog/blogs/2022-2-28.html" class="sidebar-link">2-28 å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³• By JSï¼šæ•°ç»„</a></li><li><a href="/blog/blogs/2022-3-25.html" class="sidebar-link">3-25 å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³• By JSï¼šæ ˆ</a></li><li><a href="/blog/blogs/2022-4-19.html" class="sidebar-link">4-19 å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³• By JSï¼šé˜Ÿåˆ—å’ŒåŒç«¯é˜Ÿåˆ—</a></li><li><a href="/blog/blogs/2022-11-5.html" class="sidebar-link">11-5 omit.js æºç æµ…æ</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="_2021-1-15-å®ç°å°çƒè½è¢‹çš„æ•ˆæœ"><a href="#_2021-1-15-å®ç°å°çƒè½è¢‹çš„æ•ˆæœ" class="header-anchor">#</a> 2021-1-15 å®ç°å°çƒè½è¢‹çš„æ•ˆæœ</h3> <blockquote><p>è¿™ä¸ªé—®é¢˜æ˜¯æ¥è‡ªäºç¬”è€…10æœˆé¢è¯•é¢˜é‡Œé¢çš„ä¸€é“é¢˜ï¼ˆæ¶‚é¸¦æ™ºèƒ½çš„é¢è¯•ï¼‰å°è±¡è¿˜æ¯”è¾ƒæ·±åˆ»ï¼Œå½“æ—¶æ˜¯ç”µè¯é¢è¯•é—®çš„å®ç°æ€è·¯ï¼Œå›ç­”çš„ä¸å¤ªå¥½ï¼Œæ²¡æŠŠå…·ä½“å®ç°æ€è·¯è®²å‡ºæ¥ï¼Œæ‰€ä»¥å°±æœ‰äº†ç°åœ¨ç¯‡<span style="text-decoration:line-through;">æ°´</span>æ–‡ç« ğŸ˜‚ï¼Œæ¥ä¸‹æ¥çš„æ–‡ç« ä¹Ÿä¼šç©¿æ’è¿™ç±»é¢è¯•é¢˜çš„å®ç°ã€‚</p></blockquote> <h4 id="æ ¹æ®å…·ä½“åœºæ™¯åˆ†æ"><a href="#æ ¹æ®å…·ä½“åœºæ™¯åˆ†æ" class="header-anchor">#</a> æ ¹æ®å…·ä½“åœºæ™¯åˆ†æ</h4> <p>é¦–å…ˆè¿˜æ˜¯è®©æˆ‘ä»¬å…ˆçœ‹çœ‹å¤§å®¶å¸¸ç”¨çš„é¥¿äº†ä¹ˆé‡Œé¢æ·»åŠ å¤–å–æ—¶å€™çš„å°çƒåŠ¨ç”»å§ï¼Œç„¶åå†æ¥åˆ†æåˆ†æå…·ä½“çš„ç»†èŠ‚ï¼Œä¸Šå›¾</p> <img src="/blog/assets/img/demo-ball-translate.866314a7.gif" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<strong>å°çƒçš„è½ä¸‹è½¨è¿¹æ˜¯ä¸ªå¼§å½¢çš„ï¼Œç‚¹å‡»è§¦å‘å°çƒè¿åŠ¨ï¼Œå°çƒä¼šéšç€è®¾å®šçš„è¿‡æ¸¡æ•ˆæœè½åˆ°å·¦ä¸‹è§’å›ºå®šä½ç½®</strong>ï¼Œè‡³æ­¤ç®€çŸ­çš„å°åŠ¨ç”»æ•ˆæœå°±ç»“æŸäº†ã€‚</p> <p>ç„¶åæˆ‘ä»¬æ¥è¿›è¡Œå¯¹ç€åˆšæ‰çš„æè¿°å’Œå›¾ç‰‡è¿›è¡Œåˆ†æä¸‹ï¼Œè¿™ä¸ªæ•ˆæœåˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œå¤§æ¦‚çš„æ€è·¯å¦‚ä¸‹</p> <ul><li>é¢„å…ˆåˆ›å»ºå¥½ä¸€ä¸ª<code>dom</code>èŠ‚ç‚¹å¹¶è®¾ç½®ä¸å¯è§ï¼Œç»™<code>dom</code>è®¾ç½®ä¸€ä¸ªé¢„å…ˆè®¾è®¡å¥½çš„è¿‡æ¸¡æ•ˆæœ</li> <li>ç‚¹å‡»çš„æ—¶å€™æ˜¾ç¤ºè¿™ä¸ª<code>dom</code>ï¼Œå¹¶è®°å½•ä¸‹ç‚¹å‡»çš„æ—¶å€™é¼ æ ‡/æ‰‹æŒ‡çš„ä½ç½®ä¿¡æ¯</li> <li>è·å–æ‰è½çš„ç›®æ ‡<code>targetDom</code>çš„ä½ç½®ä¿¡æ¯ï¼Œç»™æ˜¾ç¤ºçš„<code>dom</code>è®¾ç½®æœ€ç»ˆçš„ä½ç½®</li> <li>è¿åŠ¨ç»“æŸåï¼Œéšè—è¯¥<code>dom</code></li></ul> <p>å¤§æ¦‚å°±è¿™ä¹ˆå…ˆç²—ç•¥çš„è®¾æƒ³ä¸‹ï¼Œçœ‹åˆ°è¿™é‡Œï¼Œå°è„‘ç“œä¸€æƒ³è‚¯å®šæ‰‹åˆ°æ“’æ¥ï¼ä¸è¿‡æ€»å¾—ä»å…ˆå®ç°ç®€å•çš„æ•ˆæœå¼€å§‹ï¼Œ<u><strong>è¿™é‡Œæˆ‘ä»¬å°±å‡å®šè¿™ä¸ªå°çƒå°±æ˜¯æ˜¾ç¤ºçš„ï¼ŒæŠ›å»ç‚¹å‡»çš„è¿‡ç¨‹ï¼Œç›®æ ‡ä½ç½®ä¹Ÿæ˜¯å›ºå®šä¸åŠ¨ï¼Œç®€åŒ–æ­¥éª¤ï¼Œç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ç„¶åå°±æ‰§è¡Œè¿™ä¸ªè½è¢‹çš„æ•ˆ</strong></u>ã€‚å¥½äº†ï¼Œé‚£å°±å¼€å§‹å¹²å§ï¼</p> <h4 id="å¼€å‘ç¯å¢ƒæ­å»º"><a href="#å¼€å‘ç¯å¢ƒæ­å»º" class="header-anchor">#</a> å¼€å‘ç¯å¢ƒæ­å»º</h4> <p>è¿™é‡Œå¯ä»¥éšæ„ä½¿ç”¨è‡ªå·±ç†Ÿæ‚‰çš„è„šæ‰‹æ¶å·¥å…·æ¥åšæ¯”å¦‚<code>vue-cli</code>åˆæˆ–è€…<code>vite</code>åˆæˆ–è€…<code>create-react-app</code>,è¿™æ¬¡æˆ‘ä½¿ç”¨<code>vue</code>æ¥å®ç°ï¼Œä¸è¿‡ç”¨<code>react</code>é—®é¢˜ä¹Ÿä¸å¤§ï¼Œéšå¿ƒå°±å¥½ã€‚è„šæ‰‹æ¶ç¬”è€…è¿™è¾¹éšæ„æ­äº†ä¸€å¥—<code>webpack5</code>çš„ï¼Œå„ä½çœ‹å®˜å°±è¿˜æ˜¯å°½é‡ç”¨<code>webpack4</code>ï¼Œ5ç‰ˆæœ¬çš„ç”Ÿæ€è¿˜æ²¡å®Œå…¨å‡ä¸Šæ¥ã€‚</p> <p>å¤§ä½“ç»“æ„å¦‚ä¸‹æ‰€ç¤º</p> <div class="language-text extra-class"><pre class="language-text"><code>.
â”œâ”€ src
â”‚  â”œâ”€ page
â”‚  â”‚â”œâ”€ home
â”‚  â”‚  â””â”€ index.vue
â”‚  â”‚â”œâ”€ my
â”‚  â”‚  â””â”€ index.vue // æµ‹è¯•é¡µé¢
â”‚  â”‚â””â”€ store
â”‚  â”‚  â””â”€ index.vue // å®é™…é¡µé¢
â”‚  â”œâ”€ router
â”‚  â””â”€ App.vue
...
</code></pre></div><h4 id="æµ‹è¯•é¡µé¢ç¼–å†™"><a href="#æµ‹è¯•é¡µé¢ç¼–å†™" class="header-anchor">#</a> æµ‹è¯•é¡µé¢ç¼–å†™</h4> <p>æµ‹è¯•é¡µé¢æ¯”è¾ƒç®€å•ï¼Œå¤§æ¦‚å°±é•¿è¿™æ ·ï¼Œå¦‚ä¸‹å›¾</p> <img src="/blog/assets/img/ball-1.0ae30fac.png" height="500" style="border:1px solid #eee;padding:5px;"> <p>å…ˆå›ºå®šå°çƒä½ç½®åœ¨å³ä¸Šè§’ï¼Œç‚¹å‡»è§¦å‘åè®©å°çƒè¿åŠ¨åˆ°å·¦ä¸‹è§’ï¼Œå®ç°ä»£ç å¦‚ä¸‹</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>['ball', {'active' : flag}]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>choose<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»è§¦å‘å°çƒåŠ¨ç”»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">choose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>flag
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.my</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>

        <span class="token selector">.ball</span> <span class="token punctuation">{</span>
            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
            <span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
            <span class="token property">left</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
            <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
            <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>

            <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
                <span class="token property">top</span><span class="token punctuation">:</span> 1100px<span class="token punctuation">;</span>
                <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„demoï¼Œç‚¹å‡»åå½“ç„¶ä¹Ÿæ²¡è¿åŠ¨æ•ˆæœï¼ˆä¸»è¦ä¹Ÿæ²¡åŠ è¿‡æ¸¡æ•ˆæœã€‚ã€‚ï¼‰ï¼Œç‚¹å‡»åå°±æ˜¯å°çƒçš„ä½ç½®åˆ‡æ¢ï¼Œå¾ˆç”Ÿç¡¬ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»™å®ƒåŠ ç‚¹è¿‡æ¸¡æ•ˆæœä¸Šå»</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token comment">// è¿™æ ·å‡å¦‚è¿‡æ¸¡æ•ˆæœåï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°å°çƒåªèƒ½åšä¸€ä¸ªæ–œçº¿è¿åŠ¨ï¼Œå¹¶æ²¡æœ‰æŠ›ç‰©ä½“çš„è¿åŠ¨</span>
<span class="token selector">.ball</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all .5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¹Ÿå°±æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºçš„</p> <img src="/blog/assets/img/ball-line.2960b7d4.png" height="500" style="border:1px solid #eee;padding:5px;"> <p>è€Œæˆ‘ä»¬å¸Œæœ›èƒ½å¾—åˆ°çš„æœ€ç»ˆæ•ˆæœå¦‚ä¸‹</p> <img src="/blog/assets/img/ball-bez.f608548d.png" height="500" style="border:1px solid #eee;padding:5px;"> <p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªè¿åŠ¨è¿‡ç¨‹è¿›è¡Œæ‹†è§£ï¼Œåˆä¸­ç‰©ç†é‡Œé¢æœ‰ä¸¤ä¸ªçŸ¥è¯†ç‚¹<code>è‡ªç”±è½ä½“</code>å’Œ<code>æŠ›ç‰©çº¿</code>ï¼Œé»˜è®¤ä¸€åˆ‡éƒ½æ²¡æœ‰æ‘©æ“¦åŠ›å’Œç©ºæ°”é˜»åŠ›çš„æƒ…å†µä¸‹ï¼š</p> <ul><li><code>è‡ªç”±è½ä½“</code>å°±æ˜¯ä¸€ä¸ªæ–¹å‘å—åŠ›å³é‡åŠ›ï¼Œè‡ªä¸Šè€Œä¸‹è¿åŠ¨ï¼Œè¿™å¥½æ¯”æˆ‘ä»¬åˆšæ‰å®ç°çš„æ•ˆæœï¼Œå…¶å®ä¹Ÿç®—è‡ªç”±è½ä½“ï¼Œä½†é€Ÿåº¦æ˜¯æ’å®šçš„ï¼Œæ²¡æœ‰é‡åŠ›çš„æ¦‚å¿µï¼Œæ‰€ä»¥å®ƒåªèƒ½æœä¸€ä¸ªæ–¹å‘è¿åŠ¨</li> <li><code>æŠ›ç‰©çº¿è¿åŠ¨</code>åˆ™æ˜¯ç”±ä¸¤ä¸ªæ–¹å‘çš„åŠ›ç»„æˆï¼Œæ¨ªå‘çš„åŠ›ä¸çºµå‘çš„é‡åŠ›ï¼Œè®©ç‰©ä½“å½¢æˆäº†æŠ›ç‰©çº¿</li></ul> <p>ç„¶åæˆ‘ä»¬å°±çŸ¥é“æ¥ä¸‹æ¥è¦æ€ä¹ˆåšäº†ï¼Œå°±æ˜¯æŠŠè¿åŠ¨è¿›è¡Œåˆ†è§£ï¼Œå¾—åˆ°</p> <img src="/blog/assets/img/ball-bez-1.97506361.png" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <ul><li>è®¾æ°´å¹³æ–¹å‘åæ ‡x0 -&gt; x1ï¼Œè¿‡æ¸¡æ•ˆæœå°±æ˜¯çº¿æ€§çš„<code>linear</code></li> <li>è®¾ç«–ç›´æ–¹å‘åæ ‡y0 -&gt; y1ï¼Œè¿‡æ¸¡æ•ˆæœç”¨è´å¡å°”æ›²çº¿å»è®¾ä¸€ä¸ªå€¼</li></ul> <p>ä»è°·æ­Œæµè§ˆå™¨é‡Œé¢éšä¾¿æ‹‰ä¸ªæ•ˆæœå‡ºæ¥ï¼Œå¦‚å›¾ï¼Œæˆ‘ä»¬ä»ä¸­å–ä¸ªå€¼<code>cubic-bezier(.19,-0.14,.82,0)</code></p> <img src="/blog/assets/img/chrome-bez.7ee0722d.gif" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <p>å½“ç„¶ä¹Ÿå¯ä»¥ä»å»<a href="https://cubic-bezier.com/#.17,.67,.83,.67" target="_blank" rel="noopener noreferrer">ç½‘ç«™<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ‰¾ä¸‹</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬é‡æ–°è®¾è®¡ä¸‹<code>dom</code>ç»“æ„</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>['ball', {'active' : flag}]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>choose<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»è§¦å‘å°çƒåŠ¨ç”»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>css</code>ä»£ç ä¹Ÿæ”¹ä¸‹</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">.ball</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all .5s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.19<span class="token punctuation">,</span><span class="token operator">-</span>0.14<span class="token punctuation">,</span>.82<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>

  <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 1100px<span class="token punctuation">;</span>
    <span class="token selector">.inner</span> <span class="token punctuation">{</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.inner</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all .5s linear<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†æ‰€æƒ³è¦çš„æµ‹è¯•æ•ˆæœ</p> <img src="/blog/assets/img/demo-ball-position.94ca8446.gif" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <p>ä¸€ä¸ªç®€å•çš„å°ä¾‹å­å°±è¿™æ ·å®ç°äº†ï¼Œä¸‹é¢å†æŠŠå‰é¢çœç•¥çš„ä¸¤æ­¥ç»™åŠ ä¸Š</p> <h4 id="å®Œæ•´çš„demoå®ç°"><a href="#å®Œæ•´çš„demoå®ç°" class="header-anchor">#</a> å®Œæ•´çš„demoå®ç°</h4> <p>æˆ‘ä»¬å°±ç›´æ¥é€šè¿‡ç‚¹å‡»æŒ‰é’®æ¥å†æ˜¾ç¤ºä¸Šé¢çš„è¿™æ®µåŠ¨ç”»å§ï¼Œå°çƒé»˜è®¤éšè—å¹¶å»æ‰activeçš„className</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>['ball']<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ball<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>less<span class="token punctuation">,</span>
            <span class="token function">choose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">50</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">300</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">true</span>
								<span class="token comment">// ç­‰å¾…domæ›´æ–°åçš„æ“ä½œ</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">505</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">50</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">transitionEnd</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// è¿™é‡Œä¼šè§¦å‘ä¸¤æ¬¡ï¼Œå› ä¸ºçˆ¶å­å±‚çº§éƒ½æœ‰transition</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'inner'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ball<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'transitionend'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transitionEnd<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          	<span class="token comment">// è¿™é‡Œç›‘å¬transitionendäº‹ä»¶</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>ball<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'transitionend'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transitionEnd<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">.ball</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all .5s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.19<span class="token punctuation">,</span> <span class="token operator">-</span>0.14<span class="token punctuation">,</span> .82<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token selector">.inner</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all .5s linear<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>ç„¶åå°±å¾—åˆ°äº†å¦‚ä¸‹çš„æ•ˆæœ</p> <img src="/blog/assets/img/demo-2.d5fff4dc.gif" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <p>è¿™æ ·æˆ‘ä»¬çš„ä¸€ä¸ªå°demoå®Œæˆäº†ï¼Œåœ¨å®é™…å¼€å‘é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥ä¾èµ–vueçš„transitionæ¥åšï¼Œè¿™æ ·ä»£ç é€»è¾‘ä¼šæ›´æ¸…æ™°ï¼Œç„¶åå¯ä»¥é€šè¿‡çˆ¶å­ç»„ä»¶é€šä¿¡çš„æ–¹å¼ï¼Œä¼ é€’åˆ°çˆ¶å±‚æ¥åšè¿™ä¸ªæ•ˆæœã€‚</p> <h4 id="é€šè¿‡vue-transitionç»„ä»¶æ¥å®Œæˆä¸€ä¸ªä»¿é¥¿äº†ä¹ˆçš„å°çƒåŠ¨ç”»æ•ˆæœ"><a href="#é€šè¿‡vue-transitionç»„ä»¶æ¥å®Œæˆä¸€ä¸ªä»¿é¥¿äº†ä¹ˆçš„å°çƒåŠ¨ç”»æ•ˆæœ" class="header-anchor">#</a> é€šè¿‡vue-transitionç»„ä»¶æ¥å®Œæˆä¸€ä¸ªä»¿é¥¿äº†ä¹ˆçš„å°çƒåŠ¨ç”»æ•ˆæœ</h4> <p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¾èµ–ä¸‹transitionçš„å‡ ä¸ªé’©å­å‡½æ•°</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name"><span class="token namespace">v-on:</span>before-enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beforeEnter<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">v-on:</span>after-enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>afterEnter<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">v-bind:</span>css</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">v-on:</span>enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>before-enter</code>ã€<code>after-enter</code>å’Œ<code>enter</code>ï¼Œå…·ä½“å¯ä»¥å‚è€ƒvueå®˜ç½‘</p> <p>methodséƒ¨åˆ†å¦‚ä¸‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å­ç»„ä»¶ç‚¹å‡»äº‹ä»¶ï¼Œä¼ é€’çš„æ˜¯ç‚¹å‡»æ—¶å€™çš„targetå¯¹è±¡</span>
    <span class="token function">addBar</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>tar <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// this.$nextTick(() =&gt; {</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token comment">// })</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0)</span><span class="token template-punctuation string">`</span></span>
      el<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0, 0)</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">enter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ä½¿ç”¨å¼ºåˆ¶é‡ç»˜ï¼Œé˜²æ­¢æµè§ˆå™¨ä¼˜åŒ–é‡æ’ï¼Œå¯¼è‡´åªå‡ºç°æœ€åä¸€åˆ»çš„æ˜¾ç¤º</span>
      <span class="token comment">// å¼ºåˆ¶é‡ç»˜ä¼šè®©æ¸²æŸ“å¼•æ“é‡ç»˜å½“å‰ç•Œé¢åç»§ç»­åé¢çš„é€»è¾‘</span>
      <span class="token keyword">const</span> rp <span class="token operator">=</span> el<span class="token punctuation">.</span>clientHeight
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0)</span><span class="token template-punctuation string">`</span></span>
        el<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0, 0)</span><span class="token template-punctuation string">`</span></span>
        <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">afterEnter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">520</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tar <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">// è¿™ä¸ªæ˜¯æ‰è½çš„ç»ˆç‚¹ä½ç½®dom</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>box <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>box<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// è¿™é‡Œç›‘å¬å­ç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶</span>
    bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'addBar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'addBar'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>addBar<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œé¢ä¸»è¦ç–‘æƒ‘çš„ç‚¹åº”è¯¥å°±æ˜¯ä¸‹é¢è¿™å¥</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> rp <span class="token operator">=</span> el<span class="token punctuation">.</span>clientHeight
</code></pre></div><p>ç†ç”±ä¹Ÿå†™åœ¨ä¸Šé¢äº†ï¼Œä¸»è¦è¿˜æ˜¯å› ä¸ºæµè§ˆå™¨ä¼šä¼˜åŒ–repaintï¼Œåˆå¹¶åªå±•ç¤ºæœ€åä¸€æ¬¡çš„ç»˜åˆ¶æ•ˆæœï¼Œè¿™é‡Œæœ‰ä¸ªå‚è€ƒé“¾æ¥ç»™å¤§å®¶çœ‹ä¸‹<a href="https://segmentfault.com/q/1010000006771100" target="_blank" rel="noopener noreferrer">é“¾æ¥<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>è¿˜æœ‰å°±æ˜¯ä¸ºä½•æˆ‘ç”¨äº†<code>transform</code>å»æ›¿ä»£<code>position</code></p> <p><strong>ç†ç”±çš„è¯ç»å¸¸åˆ·é¢è¯•é¢˜çš„å„ä½è‚¯å®šéƒ½çŸ¥é“<code>transform:translate3d()</code>ä¸ä¼šä¸€ç›´repaintï¼Œè€Œä¸”åœ¨æ‰‹æœºç«¯è¿˜èƒ½å¼•èµ·GPUåŠ é€Ÿï¼Œè¿™æ˜¯é¢è¯•çš„è€ƒç‚¹å¿…é¡»å¾—çŸ¥é“ï¼Œè€Œpositioné—®é¢˜å°±åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨æµè§ˆå™¨å†…ç½®çš„å¼€å‘è€…å·¥å…·-&gt;é€‰æ‹©<code>Rendering</code>é€‰é¡¹å¡-&gt;å‹¾é€‰<code>paint flashing</code> ç„¶åå†æ¥æ‰§è¡Œä»£ç å°±èƒ½çœ‹åˆ°æ•ˆæœäº†</strong></p> <p>1.è¿™æ˜¯<code>position</code>çš„è¿è¡Œæ•ˆæœ</p> <img src="/blog/assets/img/demo-ball-repaint.3f2690c0.gif" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <p>2.è¿™æ˜¯<code>translate3d</code>çš„æ•ˆæœ</p> <img src="/blog/assets/img/demo-ball-translate.866314a7.gif" height="500" style="margin:auto;border:1px solid #eee;padding:5px;"> <p>ä¸Šå›¾ç”¨çš„æ˜¯vueçš„transitionç»„ä»¶åšçš„ï¼Œ<code>paint flashing</code> å¼€å¯åä¸€çœ¼å°±èƒ½çœ‹å‡ºå·®åˆ«æ‰€åœ¨ã€‚</p> <h4 id="ç»“å°¾"><a href="#ç»“å°¾" class="header-anchor">#</a> ç»“å°¾</h4> <p>åˆ°è¿™é‡Œï¼Œè¿™ä¸ªé¢è¯•é¢˜ç®—æ˜¯å®Œæˆçš„ä¸­è§„ä¸­çŸ©äº†å§ï¼Œä¸‹æ¬¡é‡åˆ°åº”è¯¥ä¸ä¼šå†å‡ºé—®é¢˜äº†ğŸ˜­ï¼ä¸è¿‡é‡Œé¢è¿˜æ˜¯ç•™äº†äº›å‘ï¼Œåç»­è¿˜å¾—å®Œå–„ä¸‹ã€‚</p> <blockquote><p>ç•™ä¸‹é—®é¢˜ï¼Œç°åœ¨æ˜¯ä¸€ä¸ªå°çƒï¼Œå½“ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™åªèƒ½ç­‰å¾…å½“å‰åŠ¨ç”»ç»“æŸåï¼Œå†æ¬¡ç‚¹å‡»æŒ‰é’®æ‰ä¼šé‡æ–°æ‰§è¡Œè½è¢‹æ•ˆæœï¼Œè¯¥æ€ä¹ˆæ”¹æ‰èƒ½è¾¾åˆ°è¿ç»­è½è¢‹æ•ˆæœå‘¢ğŸ¤”ï¼Ÿ</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´:</span> <span class="time">2/11/2022, 7:51:48 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/blog/blogs/12-31.html" class="prev">
        2020-12-31 åŸç”ŸJSå®ç°æ—¥å†
      </a></span> <span class="next"><a href="/blog/blogs/2021-1-31.html">
        2021-1-31  æ•™ä½ ç”¨CSSè§£å†³ä¸€äº›é¢è¯•é—®é¢˜
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.d2a3d452.js" defer></script><script src="/blog/assets/js/2.a40e2ea7.js" defer></script><script src="/blog/assets/js/3.8f423983.js" defer></script>
  </body>
</html>
